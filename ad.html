<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carbon Rent a Car Calculator</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React & ReactDOM CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel for JSX support -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Framer Motion CDN -->
  <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>

  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;
    const { motion } = window["framer-motion"];

    const ACCENT = "#931D4F";
    const BRAND = "Carbon Rent a Car";
    const TAX_RATE = 0.07;

    const azn = (n) =>
      new Intl.NumberFormat("az-AZ", { style: "currency", currency: "AZN" }).format(n);

    const CARS = [
      {
        slug: "changan-q05",
        title: "Changan Q05",
        class: "SUV",
        year: "2024–2025",
        seats: 5,
        trunkLarge: 2,
        trunkSmall: 5,
        fuel: "Benzin",
        engine: "",
        transmission: "Avtomat",
        prices: { "1-3": 90, "4-7": 85, "8-15": 80, "16-24": 75, "25-30": 70, "30+": 69 },
        thumb: "https://framerusercontent.com/images/jO32dxuQ1gZbyPE2fx1jdnbFj0.png",
      },
      {
        slug: "hyundai-accent-2013",
        title: "Hyundai Accent XX",
        class: "Econom",
        year: "2013–2015",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "1.6",
        transmission: "Avtomat",
        prices: { "1-3": 55, "4-7": 50, "8-15": 45, "16-24": 40, "25-30": 39 },
        thumb: "https://framerusercontent.com/images/ULqXAHKpWLALkjeJyAtX9NIjME.png",
      },
      {
        slug: "kia-rio-2013",
        title: "Kia Rio XX",
        class: "Econom",
        year: "2013–2015",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "1.6",
        transmission: "Avtomat",
        prices: { "1-3": 35, "4-7": 33, "8-15": 30, "16-24": 28, "25-30": 25 },
        thumb: "https://framerusercontent.com/images/gfhta6iFT8hJDbnz3t0QfIQxlY.png",
      },
      {
        slug: "hyundai-elantra-2016",
        title: "Hyundai Elantra XX",
        class: "Econom",
        year: "2016–2018",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "1.8",
        transmission: "Avtomat",
        prices: { "1-3": 38, "4-7": 36, "8-15": 33, "16-24": 30, "25-30": 27 },
        thumb: "https://framerusercontent.com/images/pHfNV79teQLaXRN9O362LCSpfg.png",
      },
      {
        slug: "kia-forte-2019",
        title: "Kia Forte XX",
        class: "Econom",
        year: "2019–2020",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "2.0",
        transmission: "Avtomat",
        prices: { "1-3": 40, "4-7": 38, "8-15": 35, "16-24": 32, "25-30": 30 },
        thumb: "https://framerusercontent.com/images/44lXf0p6lBlwhPxVOLE1iiwOY.png",
      },
      {
        slug: "chevrolet-cruze-2021",
        title: "Chevrolet Cruze",
        class: "Econom",
        year: "2021–2023",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "1.4",
        transmission: "Avtomat",
        prices: { "1-3": 55, "4-7": 50, "8-15": 45, "16-24": 40, "25-30": 39, "30+": 39 },
        thumb: "https://framerusercontent.com/images/1PxdSKxy1v7uDYaJkjiEEDbFnao.png",
      },
      {
        slug: "hyundai-ix35-2019",
        title: "Hyundai ix35",
        class: "SUV",
        year: "2019–2020",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "2.0",
        transmission: "Avtomat",
        prices: { "1-3": 70, "4-7": 65, "8-15": 60, "16-24": 55, "25-30": 50, "30+": 49 },
        thumb: "https://framerusercontent.com/images/khiofnrAfeCDzUvsUMgm5vg7EM0.png",
      },
      {
        slug: "kia-sportage-2016",
        title: "Kia Sportage",
        class: "SUV",
        year: "2016–2018",
        seats: 5,
        trunkLarge: 2,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "2.0",
        transmission: "Avtomat",
        prices: { "1-3": 70, "4-7": 65, "8-15": 60, "16-24": 55, "25-30": 50, "30+": 49 },
        thumb: "https://framerusercontent.com/images/4J3XX1BSPCRdou9HC4L7rXBQgfY.png",
      },
      {
        slug: "hyundai-santafe-2019-diesel",
        title: "Hyundai Santa Fe",
        class: "SUV",
        year: "2019–2020",
        seats: 7,
        trunkLarge: 2,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "2.2",
        transmission: "Avtomat",
        prices: { "1-3": 80, "4-7": 75, "8-15": 70, "16-24": 65, "25-30": 60, "30+": 59 },
        thumb: "https://framerusercontent.com/images/yi1NOXrtKnafS4egK3Zc52ICWbA.png",
      },
      {
        slug: "kia-sorento-2021",
        title: "Kia Sorento",
        class: "SUV",
        year: "2021–2023",
        seats: 7,
        trunkLarge: 2,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "2.4",
        transmission: "Avtomat",
        prices: { "1-3": 80, "4-7": 75, "8-15": 70, "16-24": 65, "25-30": 60, "30+": 59 },
        thumb: "https://framerusercontent.com/images/KCQFLzPns47NobRGNOHhlCwsNk.png",
      },
      {
        slug: "kia-optima-2015",
        title: "Kia Optima",
        class: "Comfort",
        year: "2013–2015",
        seats: 5,
        trunkLarge: 1,
        trunkSmall: 1,
        fuel: "Benzin",
        engine: "2.0",
        transmission: "Avtomat",
        prices: { "1-3": 70, "4-7": 65, "8-15": 60, "16-24": 55, "25-30": 50, "30+": 49 },
        thumb: "https://framerusercontent.com/images/Sd2fGa3igOiR6bgsRKDLo4H27JY.png",
      },
    ];

    function getRate(prices, days) {
      if (!days || days < 1) return 0;
      if (days <= 3) return prices["1-3"] ?? 0;
      if (days <= 7) return prices["4-7"] ?? prices["1-3"] ?? 0;
      if (days <= 15) return prices["8-15"] ?? prices["4-7"] ?? 0;
      if (days <= 24) return prices["16-24"] ?? prices["8-15"] ?? 0;
      if (days <= 30) return prices["25-30"] ?? prices["16-24"] ?? 0;
      return prices["30+"] ?? prices["25-30"] ?? prices["16-24"] ?? 0;
    }

    function useTotals(selectedCar, days) {
      return useMemo(() => {
        const safeDays = Math.max(1, Math.floor(days || 1));
        const rate = selectedCar ? getRate(selectedCar.prices, safeDays) : 0;
        const subtotal = rate * safeDays;
        const tax = subtotal * TAX_RATE;
        const total = subtotal + tax;
        return { safeDays, rate, subtotal, tax, total };
      }, [selectedCar, days]);
    }

    function Row({ label, value, emphasize = false, big = false, accent = false }) {
      return (
        <div className="flex items-center justify-between">
          <div className="text-neutral-500">{label}</div>
          <div
            className={
              "ml-4 tabular-nums " +
              (big ? "text-xl md:text-2xl " : "") +
              (emphasize ? "font-semibold text-neutral-900 " : "text-neutral-800 ")
            }
            style={accent ? { color: ACCENT } : undefined}
          >
            {value}
          </div>
        </div>
      );
    }

    function Separator() {
      return <div className="my-2 h-px w-full bg-gradient-to-r from-transparent via-neutral-200 to-transparent" />;
    }

    function bracketText(prices = {}, days) {
      if (!days) return "—";
      if (days <= 3 && prices["1-3"]) return "1–3 gün";
      if (days <= 7 && prices["4-7"]) return "4–7 gün";
      if (days <= 15 && prices["8-15"]) return "8–15 gün";
      if (days <= 24 && prices["16-24"]) return "16–24 gün";
      if (days <= 30 && prices["25-30"]) return "25–30 gün";
      return prices["30+"] ? "30+ gün" : "30+ (25–30 tarif)";
    }

    function CarbonRentCalculator() {
      const [carSlug, setCarSlug] = useState(CARS[0].slug);
      const [days, setDays] = useState(3);

      const car = useMemo(() => CARS.find((c) => c.slug === carSlug), [carSlug]);
      const { safeDays, rate, subtotal, tax, total } = useTotals(car, days);

      return (
        <div
          className="min-h-screen w-full flex items-center justify-center p-4 md:p-10"
          style={{
            background:
              "radial-gradient(1200px 600px at 10% 10%, rgba(147,29,79,0.08), transparent), radial-gradient(900px 500px at 90% 30%, rgba(147,29,79,0.12), transparent), #ffffff",
          }}
        >
          <div className="max-w-5xl w-full">
            {/* Brand header */}
            <motion.header
              initial={{ opacity: 0, y: -10 }}
              animate={{ opacity: 1, y: 0 }}
              className="mb-6 md:mb-8 flex items-center justify-between"
            >
              <div className="flex items-center gap-3">
                <div
                  className="h-10 w-10 rounded-2xl shadow-xl"
                  style={{
                    background: `linear-gradient(145deg, ${ACCENT}, #5f1334)`,
                    boxShadow:
                      "0 10px 25px rgba(147,29,79,0.35), inset 0 -2px 6px rgba(255,255,255,0.25)",
                  }}
                />
                <div>
                  <h1 className="text-xl md:text-2xl font-bold" style={{ color: ACCENT }}>
                    {BRAND}
                  </h1>
                  <p className="text-sm text-neutral-500">Rent a car cost calculator</p>
                </div>
              </div>
            </motion.header>

            {/* Main content */}
            <div className="grid md:grid-cols-2 gap-6">
              {/* Configurator Card */}
              <motion.div
                initial={{ opacity: 0, y: 20, scale: 0.98 }}
                animate={{ opacity: 1, y: 0, scale: 1 }}
                transition={{ delay: 0.05 }}
                className="relative overflow-hidden rounded-3xl p-5 md:p-6"
                style={{
                  background: "#ffffff",
                  boxShadow:
                    "0 30px 80px rgba(0,0,0,0.12), 0 12px 24px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.6)",
                }}
              >
                <div
                  className="absolute -top-24 -right-24 h-64 w-64 rounded-full opacity-10"
                  style={{ background: ACCENT, filter: "blur(40px)" }}
                />

                <div className="flex items-center gap-3 mb-4">
                  {car?.thumb ? (
                    <img
                      src={car.thumb}
                      alt={car.title}
                      className="h-14 w-24 object-contain drop-shadow-md"
                    />
                  ) : null}
                  <div>
                    <h2 className="text-lg font-semibold text-neutral-900">Seçimlər</h2>
                    <p className="text-xs text-neutral-500">Avtomobil və gün sayını seçin</p>
                  </div>
                </div>

                <label className="block text-sm font-medium text-neutral-700 mb-2">
                  Avtomobil
                </label>
                <div className="relative mb-5">
                  <select
                    value={carSlug}
                    onChange={(e) => setCarSlug(e.target.value)}
                    className="w-full appearance-none rounded-2xl border border-neutral-200 bg-white px-4 py-3 pr-10 shadow-[0_6px_20px_rgba(0,0,0,0.06)] focus:outline-none"
                    style={{
                      boxShadow:
                        "0 12px 30px rgba(147,29,79,0.08), inset 0 -2px 6px rgba(0,0,0,0.04)",
                    }}
                  >
                    {CARS.map((c) => (
                      <option key={c.slug} value={c.slug}>
                        {c.title} · {c.class} · {c.year}
                      </option>
                    ))}
                  </select>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    className="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-neutral-400"
                  >
                    <path
                      fillRule="evenodd"
                      d="M5.23 7.21a.75.75 0 011.06.02L10 11.063l3.71-3.83a.75.75 0 111.08 1.04l-4.25 4.39a.75.75 0 01-1.08 0L5.25 8.27a.75.75 0 01-.02-1.06z"
                      clipRule="evenodd"
                    />
                  </svg>
                </div>

                <label className="block text-sm font-medium text-neutral-700 mb-2">Gün sayı</label>
                <div className="flex items-center gap-3">
                  <input
                    type="number"
                    min={1}
                    step={1}
                    value={days}
                    onChange={(e) => setDays(parseInt(e.target.value || "1", 10))}
                    className="w-40 rounded-2xl border border-neutral-200 bg-white px-4 py-3 shadow-[0_6px_20px_rgba(0,0,0,0.06)] focus:outline-none"
                  />
                  <div className="text-sm text-neutral-500">{safeDays} gün</div>
                </div>
              </motion.div>

              {/* Summary Card */}
              <motion.div
                initial={{ opacity: 0, y: 20, scale: 0.98 }}
                animate={{ opacity: 1, y: 0, scale: 1 }}
                transition={{ delay: 0.1 }}
                className="relative overflow-hidden rounded-3xl p-5 md:p-6"
                style={{
                  background: "#ffffff",
                  boxShadow:
                    "0 30px 80px rgba(0,0,0,0.12), 0 12px 24px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.6)",
                }}
              >
                <h2 className="text-lg font-semibold text-neutral-900 mb-3">Xülasə</h2>
                <Row label="Gün sayı" value={safeDays} />
                <Row
                  label="Günlük qiymət"
                  value={azn(rate)}
                  accent
                  emphasize
                />
                <Row label="Qiymət aralığı" value={bracketText(car?.prices, safeDays)} />
                <Separator />
                <Row label="Xərc" value={azn(subtotal)} emphasize big />
                <Row label="ƏDV (7%)" value={azn(tax)} emphasize />
                <Separator />
                <Row label="Ümumi" value={azn(total)} emphasize big accent />
              </motion.div>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<CarbonRentCalculator />);
  </script>
</body>
</html>
